"use client"

import Link from "next/link"
import { motion } from "framer-motion"
import { MenuBar } from "./menu-bar"
import { ThemeToggle } from "./theme-toggle"
import { Button } from "./ui/button"
import { useTheme } from "next-themes"

const Header = () => {
  const { theme } = useTheme()

  return (
    <motion.header
      className="bg-background/80 backdrop-blur-lg border-b border-border/40 sticky top-0 z-50"
      initial={{ y: -100 }}
      animate={{ y: 0 }}
      transition={{ type: "spring", stiffness: 300, damping: 30 }}
    >
      <div className="container mx-auto px-4 py-3">
        <div className="flex items-center justify-between">
          <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
            <Link href="/" className="flex items-center space-x-2">
              <svg
                width="102"
                height="30"
                viewBox="0 0 101.7 29.85"
                xmlns="http://www.w3.org/2000/svg"
                className="text-primary"
              >
                <path
                  d="M101.66,26.03s.03-.09,.04-.14c0,0,0-.01,0-.02,0,0,0-.01,0-.02,0-.05-.02-.1-.03-.15-.01-.05-.01-.11-.03-.16-.02-.05-.06-.09-.09-.14-.03-.05-.05-.1-.09-.13-.04-.04-.08-.06-.13-.09-.05-.03-.09-.07-.14-.09-.05-.02-.11-.03-.16-.04-.05-.01-.1-.03-.15-.04-1.7-.07-3.38-.2-5.04-.36v-2.79h-5v2.15c-7.83-1.26-15.05-3.65-21.41-7.45C62.47,12.36,56.39,6.86,51.53,.34c-.01-.02-.03-.02-.05-.04-.03-.03-.06-.06-.09-.09-.02-.01-.02-.03-.04-.04-.01,0-.03-.01-.04-.02-.03-.02-.06-.03-.09-.05-.04-.02-.07-.03-.11-.05-.03-.01-.07-.02-.1-.03-.03,0-.07,0-.1-.01-.02,0-.04-.01-.06-.01s-.04,.01-.06,.01c-.03,0-.07,0-.1,.01-.04,0-.07,.02-.1,.03-.04,.01-.08,.03-.11,.05-.03,.02-.06,.03-.09,.05-.01,0-.03,.01-.04,.02-.02,.01-.02,.03-.04,.04-.03,.03-.06,.06-.09,.09-.01,.02-.03,.02-.04,.04-1.52,2.04-3.17,3.97-4.92,5.81,0,0,0,0,0,0-3.83,4.01-8.17,7.52-12.93,10.4-6.4,3.8-13.63,6.19-21.46,7.45v-2.15H5.85v2.79c-1.66,.16-3.33,.28-5.04,.36-.05,0-.1,.02-.15,.04-.06,.01-.11,.02-.16,.04-.05,.02-.09,.06-.13,.09-.05,.03-.09,.06-.13,.1-.04,.04-.06,.09-.09,.13-.03,.05-.07,.09-.09,.14-.02,.05-.02,.11-.03,.16,0,.05-.03,.1-.03,.15,0,0,0,.01,0,.02s0,.01,0,.02c0,.05,.02,.1,.04,.15,.01,.06,.02,.11,.04,.16,.02,.05,.06,.09,.09,.14,.03,.04,.06,.09,.1,.13,.04,.04,.09,.06,.14,.09,.05,.03,.09,.06,.14,.08,.05,.02,.11,.02,.17,.03,.05,0,.09,.03,.15,.03H5.85v3.15h5v-3.15H90.85v3.15h5v-3.15h5c.05,0,.1-.02,.14-.03,.06-.01,.12-.01,.17-.03,.05-.02,.09-.05,.13-.08,.05-.03,.1-.06,.14-.1,.04-.04,.06-.08,.09-.13,.03-.05,.07-.09,.09-.14,.02-.05,.03-.11,.04-.17Zm-24.96-4.06c1.08,.42,2.18,.82,3.3,1.19v1.84h-3.3v-3.03Zm-1.7,3.03h-3.3v-5.27c1.08,.55,2.18,1.06,3.3,1.54v3.73Zm6.7-1.31c1.08,.32,2.19,.61,3.3,.88v.43h-3.3v-1.31Zm5,1.26c.07,.02,.15,.03,.22,.05h-.22v-.05Zm-18.14-6.94c.47,.28,.95,.55,1.44,.82v6.17h-3.3v-8.17c.62,.4,1.23,.8,1.86,1.18h0Zm-3.56,6.99h-3.3V13.23c1.07,.85,2.17,1.67,3.3,2.45v9.32Zm-5-13.17v13.17h-3.3V8.82c1.06,1.04,2.17,2.04,3.3,3.01Zm-13.3-4.74c1.15-1.21,2.25-2.47,3.3-3.77V25h-3.3V7.09Zm5-3.78c1.05,1.3,2.15,2.55,3.3,3.77V25h-3.3V3.31Zm-6.7,5.52V25h-3.3V11.85c1.13-.97,2.24-1.97,3.3-3.01Zm-5,16.17h-3.3V15.71c1.13-.78,2.23-1.6,3.3-2.46v11.75Zm-6.82-6.99h0c.61-.37,1.21-.77,1.81-1.16v8.15h-3.3v-6.15c.5-.27,.99-.55,1.48-.84Zm-16.48,6.55c1.11-.27,2.21-.55,3.3-.87v1.31h-3.3v-.43Zm-1.7,.43h-.23c.08-.02,.15-.03,.23-.05v.05Zm6.7-1.84c1.12-.36,2.22-.76,3.3-1.18v3.02h-3.3v-1.84Zm5-1.88c1.12-.48,2.22-.99,3.3-1.53v5.25h-3.3v-3.72Z"
                  fill="currentColor"
                />
              </svg>
              <span className="font-bold text-xl">МОТАУ Бридж</span>
            </Link>
          </motion.div>
          <div className="flex items-center space-x-4">
            <MenuBar />
            <Link href="https://getoutline.org/" target="_blank" rel="noopener noreferrer" className="relative group">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 102 102" fill="currentColor" className="w-6 h-6">
                <path
                  d="M57 101.302C82.339 98.332 102 76.7874 102 50.6508C102 24.5142 82.339 2.96957 57 0V20.3448C70.722 23.3233 81 35.5367 81 50.1508C81 64.7648 70.722 76.9782 57 79.9568V101.302Z"
                  fill={theme === "dark" ? "#5BB193" : "#183729"}
                />
                <path
                  d="M45 0V101.302C19.661 98.332 0 76.7874 0 50.6508C0 24.5142 19.661 2.96957 45 0Z"
                  fill={theme === "dark" ? "#183729" : "#5BB193"}
                />
              </svg>
              <span className="sr-only">Outline</span>
              <div className="absolute -inset-1 bg-[#5bb193] opacity-0 group-hover:opacity-20 rounded-full blur transition duration-200"></div>
            </Link>
            <Link
              href="https://www.wireguard.com/"
              target="_blank"
              rel="noopener noreferrer"
              className="relative group"
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 774 1348" fill="currentColor" className="w-6 h-6">
                <path d="M349.026 774.836c-12.168 6.44-21.541 11.184-30.71 16.292-37.523 20.901-69.603 48.261-95.162 82.767-8.264 11.156-13.945 12.054-26.528 4.36C32.934 778.154 22.415 526.937 201.176 417.574c139.044-85.064 316.679-33.074 383.241 94.85 12.615 24.244 14.218 61.567 6.229 86.947-27.583 87.859-92.71 137.102-182.101 158.021 26.353-22.562 47.33-48.145 53.006-83.494 6.725-35.606-.388-67.807-21.041-97.072-31.371-44.452-92.029-62.74-142.721-43.492-55.034 20.896-85.181 71.123-79.746 132.863 5.048 57.351 48.564 94.519 129.983 108.639zM0 1061.47c13.148-88.716 117.033-170.411 204.881-161.091-27.209 36.796-39.777 78.423-42.81 119.941-29.191 5.38-56.703 8.99-83.411 15.77-26.296 6.68-51.778 16.56-78.66 25.38zm651.834-226.999c-7.404-6.401-12.095-6.399-20.776-.844-29.453 18.843-59.533 36.695-90.239 53.555-17.562 9.664-36.584 16.675-58.609 26.516 7.563 1.952 11.202 2.865 14.828 3.83 82.338 21.913 126.327 94.192 106.841 175.162-17.329 71.99-90.422 118.03-161.255 105.88-59.053-10.12-110.601-59.16-119.21-117.91-9.381-64.03 22.509-125.621 79.246-151.42 31.472-14.31 63.79-26.766 101.187-41.229 35.697-16.445 74.289-29.435 105.458-52.322 77.355-56.801 125.123-134.005 143.746-228.4 11.155-56.543 10.401-112.838-15.466-166.525-19.852-41.202-52.43-71.133-87.43-98.447-36.018-28.108-74.148-53.518-110.002-81.821-9.702-7.658-16.252-20.865-20.742-32.84-1.903-5.075 4.287-18.837 8.426-19.58 22.087-3.826 44.414-6.106 66.818-6.823 25.82-.975 51.714-.149 77.572.191 5.605.074 13.216-.653 16.438 2.514 13.394 13.167 23.898 4.698 33.194-3.965 7.824-7.29 13.399-16.992 19.621-25.168-3.776-.555-11.519-2.505-19.304-2.689-26.004-.616-52.036-.221-78.022-1.176-4.629-.17-9.09-4.935-13.629-7.579 4.776-1.898 9.537-5.399 14.331-5.444 44.848-.421 89.703-.25 134.593-.25.053-23.336-31.136-55.291-58.846-63.95-.207 3.158-.4 6.097-.606 9.233-27.531.654-54.556.141-79.106-12.914-6.469-3.44-10.697-11.089-15.962-16.798-6.629-7.188-12.068-16.43-20.148-21.12-16.565-9.615-34.648-16.583-51.931-25-61.418-29.915-126.278-28.863-195.945-22.485C392.549 13.346 430.159 22.1 467.77 30.855c-.428 2.286-.856 4.573-1.285 6.86-50.308 6.74-97.898-11.71-147.101-18.545 17.66 10.485 35.873 20.008 54.561 28.527 18.965 8.51 38.52 15.705 58.077 23.58-24.846 21.229-49.777 25.887-81.008 18.751-17.073-3.901-35.133-5.972-52.565-5.121-18.005.88-36.14 5.31-52.49 16.238 17.506 8.875 33.642 16.24 48.863 25.165 6.278 3.681 13.473 9.93 15.223 16.377 4.192 15.44 5.402 31.689 7.817 47.623-28.667 3.247-79.074 32.4-89.261 51.373 44.06 8.478 92.031-1.777 134.061 26.617-13.845 10.477-46.086 23.507-57.912 32.457 14.621 3.831 48.498 1.955 61.751 1.057 11.157-.756 16.307-1.029 20.881 2.735l129.702 101.542c13.637 10.993 68.719 63.13 83.097 95.902 12.241 27.902 13.74 51.638 13.736 57.431.029 22.933-4.247 45.667-12.605 67.022-4.488 11.399-17.658 36.651-44.826 66.084-42.107 45.616-96.27 70.274-155.501 82.486-137.721 28.395-252.153 175.47-219.85 337.614 37.714 189.29 246.647 291.78 417.386 201.74 110.359-58.21 168.871-171.76 153.193-295.36-9.471-74.673-43.252-135.579-99.88-184.539zM580.281 103.537c4.917-3.762 9.98-6.922 16.085-1.891 3.472 2.861 6.845 5.824 11.051 9.414-5.221 2.757-9.459 5.077-13.78 7.256-6.049 3.051-10.571 1.013-14.232-3.807-2.971-3.909-3.507-7.617.876-10.972z" />
              </svg>
              <span className="sr-only">WireGuard</span>
              <div className="absolute -inset-1 bg-[#88171a] opacity-0 group-hover:opacity-20 rounded-full blur transition duration-200"></div>
            </Link>
            <ThemeToggle />
            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
              <Button asChild variant="outline">
                <Link href="/login">Вход</Link>
              </Button>
            </motion.div>
            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
              <Button asChild>
                <Link href="/signup">Регистрация</Link>
              </Button>
            </motion.div>
          </div>
        </div>
      </div>
    </motion.header>
  )
}

export default Header

